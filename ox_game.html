<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OX Game</title>
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"> -->
    <style>
        .container {
            margin-top: 10%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .row {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 300px;
        }

        .mid {
            border-top: 1px solid black;
            border-bottom: 1px solid black;
        }

        .mm {
            border-left: 1px solid black;
            border-right: 1px solid black;
        }

        .col {
            height: 100px !important;
            width: 100px !important;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 200%;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col p1">
            </div>
            <div class="col mm p2">
            </div>
            <div class="col p3">
            </div>
        </div>
        <div class="row mid">
            <div class="col p4">
            </div>
            <div class="col mm p5">
            </div>
            <div class="col p6">
            </div>
        </div>
        <div class="row">
            <div class="col p7">
            </div>
            <div class="col mm p8">
            </div>
            <div class="col p9">
            </div>
        </div>
    </div>

    <script>
        let cols = document.querySelectorAll('.col');
        cols.forEach(item => item.addEventListener('click', function () {
            Print(item, function () {
                Judge();
            });
        }));

        var OorX = true;
        function Print(item, callback) {
            if (item.innerText == '') {
                if (OorX == true) {
                    item.innerText = 'O';
                    OorX = !OorX;
                } else {
                    item.innerText = 'X';
                    OorX = !OorX;
                }
            }

            if (callback) {
                callback();
            }
        }

        // function Judge() {
        //     for (let index = 0; index < cols.length; index++) {
        //         //OOO
        //         //
        //         //
        //         if (cols[index].innerText != '' && cols[index].innerText == cols[index + 1].innerText && cols[index].innerText == cols[index + 2].innerText) {
        //             if (OorX == false) {
        //                 setTimeout(() => {
        //                     alert('O Wins');
        //                 }, 100);
        //             }
        //             else {
        //                 setTimeout(() => {
        //                     alert('X Wins');                            
        //                 }, 100);
        //             }
        //             Reset();
        //             //O
        //             // O
        //             //  O
        //         } else if (cols[index].innerText != '' && cols[index].innerText == cols[index + 4].innerText && cols[index].innerText == cols[index + 8].innerText) {
        //             if (OorX == false) {
        //                 setTimeout(() => {
        //                     alert('O Wins');
        //                 }, 100);
        //             }
        //             else {
        //                 setTimeout(() => {
        //                     alert('X Wins');                            
        //                 }, 100);
        //             }
        //             Reset();
        //             //  O
        //             // O
        //             //O
        //         } else if (cols[index + 2].innerText != '' && cols[index + 2].innerText == cols[index + 4].innerText && cols[index + 4].innerText == cols[index + 6].innerText) {
        //             if (OorX == false) {
        //                 setTimeout(() => {
        //                     alert('O Wins');
        //                 }, 100);
        //             }
        //             else {
        //                 setTimeout(() => {
        //                     alert('X Wins');                            
        //                 }, 100);
        //             }
        //             Reset();
        //             //
        //             //OOO
        //             //
        //         } else if (cols[index + 3].innerText != '' && cols[index + 3].innerText == cols[index + 4].innerText && cols[index + 4].innerText == cols[index + 5].innerText) {
        //             if (OorX == false) {
        //                 setTimeout(() => {
        //                     alert('O Wins');
        //                 }, 100);
        //             }
        //             else {
        //                 setTimeout(() => {
        //                     alert('X Wins');                            
        //                 }, 100);
        //             }
        //             Reset();
        //             //
        //             //
        //             //OOO
        //         } else if (cols[index + 6].innerText != '' && cols[index + 6].innerText == cols[index + 7].innerText && cols[index + 7].innerText == cols[index + 8].innerText) {
        //             if (OorX == false) {
        //                 setTimeout(() => {
        //                     alert('O Wins');
        //                 }, 100);
        //             }
        //             else {
        //                 setTimeout(() => {
        //                     alert('X Wins');                            
        //                 }, 100);
        //             }
        //             Reset();
        //             //O
        //             //O
        //             //O
        //         } else if (cols[index].innerText != '' && cols[index].innerText == cols[index + 3].innerText && cols[index + 3].innerText == cols[index + 6].innerText) {
        //             if (OorX == false) {
        //                 setTimeout(() => {
        //                     alert('O Wins');
        //                 }, 100);
        //             }
        //             else {
        //                 setTimeout(() => {
        //                     alert('X Wins');                            
        //                 }, 100);
        //             }
        //             Reset();
        //             // O
        //             // O
        //             // O
        //         } else if (cols[index + 1].innerText != '' && cols[index + 1].innerText == cols[index + 4].innerText && cols[index + 4].innerText == cols[index + 7].innerText) {
        //             if (OorX == false) {
        //                 setTimeout(() => {
        //                     alert('O Wins');
        //                 }, 100);
        //             }
        //             else {
        //                 setTimeout(() => {
        //                     alert('X Wins');                            
        //                 }, 100);
        //             }
        //             Reset();
        //             //  O
        //             //  O
        //             //  O
        //         } else if (cols[index + 2].innerText != '' && cols[index + 2].innerText == cols[index + 5].innerText && cols[index + 5].innerText == cols[index + 8].innerText) {
        //             if (OorX == false) {
        //                 setTimeout(() => {
        //                     alert('O Wins');
        //                 }, 100);
        //             }
        //             else {
        //                 setTimeout(() => {
        //                     alert('X Wins');                            
        //                 }, 100);
        //             }
        //             Reset();
        //         } else if (checkFull()) {
        //             alert('Tie');
        //             Reset();
        //         }
        //     }
        // }
        function Judge() {
            //OOO
            //
            //
            if (document.querySelector(".p1").innerText != '' && document.querySelector(".p1").innerText == document.querySelector(".p2").innerText && document.querySelector(".p2").innerText == document.querySelector(".p3").innerText) {
                let result;
                if (OorX == false) {
                    result = 'O Wins';
                }
                else {
                    result = 'X Wins';
                }
                setTimeout(Reset(result), 100)
                //O
                // O
                //  O
            } else if (document.querySelector(".p1").innerText != '' && document.querySelector(".p1").innerText == document.querySelector(".p5").innerText && document.querySelector(".p1").innerText == document.querySelector(".p9").innerText) {
                let result;
                if (OorX == false) {
                    result = 'O Wins';
                }
                else {
                    result = 'X Wins';
                }
                setTimeout(Reset(result), 100)
                //  O
                // O
                //O
            } else if (document.querySelector(".p3").innerText != '' && document.querySelector(".p3").innerText == document.querySelector(".p5").innerText && document.querySelector(".p5").innerText == document.querySelector(".p7").innerText) {
                let result;
                if (OorX == false) {
                    result = 'O Wins';
                }
                else {
                    result = 'X Wins';
                }
                setTimeout(Reset(result), 100)
                //
                //OOO
                //
            } else if (document.querySelector(".p4").innerText != '' && document.querySelector(".p4").innerText == document.querySelector(".p5").innerText && document.querySelector(".p5").innerText == document.querySelector(".p6").innerText) {
                let result;
                if (OorX == false) {
                    result = 'O Wins';
                }
                else {
                    result = 'X Wins';
                }
                setTimeout(Reset(result), 100)
                //
                //
                //OOO
            } else if (document.querySelector(".p7").innerText != '' && document.querySelector(".p7").innerText == document.querySelector(".p8").innerText && document.querySelector(".p8").innerText == document.querySelector(".p9").innerText) {
                let result;
                if (OorX == false) {
                    result = 'O Wins';
                }
                else {
                    result = 'X Wins';
                }
                setTimeout(Reset(result), 100)
                //O
                //O
                //O
            } else if (document.querySelector(".p1").innerText != '' && document.querySelector(".p1").innerText == document.querySelector(".p4").innerText && document.querySelector(".p4").innerText == document.querySelector(".p7").innerText) {
                let result;
                if (OorX == false) {
                    result = 'O Wins';
                }
                else {
                    result = 'X Wins';
                }
                setTimeout(Reset(result), 100)
                // O
                // O
                // O
            } else if (document.querySelector(".p2").innerText != '' && document.querySelector(".p2").innerText == document.querySelector(".p5").innerText && document.querySelector(".p5").innerText == document.querySelector(".p8").innerText) {
                let result;
                if (OorX == false) {
                    result = 'O Wins';
                }
                else {
                    result = 'X Wins';
                }
                setTimeout(Reset(result), 100)
                //  O
                //  O
                //  O
            } else if (document.querySelector(".p3").innerText != '' && document.querySelector(".p3").innerText == document.querySelector(".p6").innerText && document.querySelector(".p6").innerText == document.querySelector(".p9").innerText) {
                let result;
                if (OorX == false) {
                    result = 'O Wins';
                }
                else {
                    result = 'X Wins';
                }
                setTimeout(Reset(result), 100)
            } else if (checkFull()) {
                alert('Tie');
                setTimeout(Reset(result), 100)
            }
        }

        function Reset(result) {
            alert(result);
            OorX = true;
            cols.forEach(item => item.innerText = '');
        }

        function checkFull() {
            let isFull = true
            cols.forEach(col => {
                if (col.innerText == "") {
                    isFull = false
                }
            });
            return isFull
        }
    </script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script> -->
</body>

</html>